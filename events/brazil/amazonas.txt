namespace = amazonas

# Manaus, the Heart of the Amazon / Amazonas lvl.1 event
amazonas.4 = {
	type = country_event
	placement = scope:amazonas_state_scope

	duration = 3

	title = amazonas.4.t
	desc = amazonas.4.d
	flavor = amazonas.4.f

	event_image = {
		video = "rp1_brazilian_city"
	}

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		# triggered by upgrade_amazon_button_1
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				state_region = s:STATE_AMAZONAS
			}
			save_scope_as = amazonas_state_scope
		}
		g:rubber = {
			save_scope_as = rubber_scope
		}
	}
	
	option = {
		name = amazonas.4.a 
		default_option = yes
		scope:amazonas_state_scope = {
			add_modifier = {
				name = amazon_development_cooldown_modifier
				months = short_modifier_time
			}
			add_modifier = {
				name = rubber_hub_modifier
				months = long_modifier_time
			}
			add_modifier = {
				name = rubber_baron_palaces_modifier
				months = -1
			}
		}
		scope:amazonas_state_scope.state_region = {
			remove_state_trait = state_trait_amazon_rainforest
			add_state_trait = state_trait_amazon_rainforest_level_1
		}
	}

	option = {
		name = amazonas.4.b
		scope:amazonas_state_scope = {
			add_modifier = {
				name = amazon_development_cooldown_modifier
				months = short_modifier_time
			}
			add_modifier = {
				name = amazon_migration
				months = long_modifier_time
			}
			add_modifier = {
				name = mercado_adolpho_lisboa_modifier
				months = -1
			}
		}
		scope:amazonas_state_scope.state_region = {
			remove_state_trait = state_trait_amazon_rainforest
			add_state_trait = state_trait_amazon_rainforest_level_1
		}
	}
}

# Manaus, Paris of the Tropics / Amazonas lvl.2 event
amazonas.5 = {
	type = country_event
	placement = scope:amazonas_state_scope

	duration = 3

	title = amazonas.5.t
	desc = amazonas.5.d
	flavor = amazonas.5.f

	event_image = {
		video = "rp1_brazilian_city"
	}

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	cooldown = { months = normal_modifier_time }

	trigger = {
		# triggered by upgrade_amazon_button_2
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				state_region = s:STATE_AMAZONAS
			}
			save_scope_as = amazonas_state_scope
		}
		g:rubber = {
			save_scope_as = rubber_scope
		}
	}
	
	option = {
		name = amazonas.5.a 
		default_option = yes
		scope:amazonas_state_scope = {
			add_modifier = {
				name = amazon_development_cooldown_modifier
				months = short_modifier_time
			}
			if = {
				limit = {
					NOT = {
						any_scope_building = {
							is_building_type = building_arts_academy
						}
					}
				}
				create_building = {
					building = building_arts_academy
					level = 2
				}
				add_modifier = {
					name = amazon_theatre
					months = long_modifier_time
				}
			}
			else = {
				add_modifier = {
					name = amazon_theatre
					months = -1
					multiplier = 1.5
				}
			}
			add_modifier = {
				name = amazon_migration
				months = normal_modifier_time
				multiplier = 0.5
			}
		}
		scope:amazonas_state_scope.state_region = {
			remove_state_trait = state_trait_amazon_rainforest_level_1
			add_state_trait = state_trait_amazon_rainforest_level_2
		}
	}

	option = {
		name = amazonas.5.b
		highlighted_option = yes
		trigger = {
			has_technology_researched = electrical_generation
		}
		add_modifier = {
			name = amazonic_city_of_lights_modifier
			months = -1
		}
		scope:amazonas_state_scope = {
			add_modifier = {
				name = amazon_development_cooldown_modifier
				months = short_modifier_time
			}
			add_modifier = {
				name = amazon_migration
				months = normal_modifier_time
				multiplier = 0.5
			}
		}
		scope:amazonas_state_scope.state_region = {
			remove_state_trait = state_trait_amazon_rainforest_level_1
			add_state_trait = state_trait_amazon_rainforest_level_2
		}
	}
}

# An Outpost of Progress
amazonas.6 = {
	type = country_event
	placement = scope:amazon_development_level_one_state_scope

	duration = 3

	title = amazonas.6.t
	desc = amazonas.6.d
	flavor = amazonas.6.f

	event_image = {
		video = "rp1_brazilian_city"
	}

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	cooldown = { years = 1 }

	trigger = {
		# triggered by upgrade_amazon_button_1
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				has_state_trait = state_trait_amazon_rainforest
				NOT = { has_modifier = amazon_development_cooldown_modifier }
				any_scope_building = {
					is_building_type = building_urban_center
					level >= 2
				}
				any_scope_building = {
					is_building_type = building_rubber_plantation
					level >= 10
				}
			}
			save_scope_as = amazon_development_level_one_state_scope
		}
		g:rubber = {
			save_scope_as = rubber_scope
		}
	}
	
	option = {
		name = amazonas.6.a 
		default_option = yes
		scope:amazon_development_level_one_state_scope = {
			add_modifier = {
				name = amazon_development_cooldown_modifier
				months = short_modifier_time
			}
			add_modifier = {
				name = amazon_migration
				months = normal_modifier_time
				multiplier = 0.5
			}
		}
		scope:amazon_development_level_one_state_scope.state_region = {
			remove_state_trait = state_trait_amazon_rainforest
			add_state_trait = state_trait_amazon_rainforest_level_1
		}
		ig:ig_landowners = {
			add_modifier = {
				name = rubber_barons_modifier
				months = normal_modifier_time
			}
		}
	}

	option = {
		name = amazonas.6.b
		scope:amazon_development_level_one_state_scope = {
			add_modifier = {
				name = amazon_development_cooldown_modifier
				months = short_modifier_time
			}
			add_modifier = {
				name = rubber_entrepot_modifier
				months = normal_modifier_time
			}
		}
		scope:amazon_development_level_one_state_scope.state_region = {
			remove_state_trait = state_trait_amazon_rainforest
			add_state_trait = state_trait_amazon_rainforest_level_1
		}
		ig:ig_landowners = {
			add_modifier = {
				name = rubber_barons_modifier
				months = normal_modifier_time
			}
		}
	}
}

# Jewels in the Rough
amazonas.7 = {
	type = country_event
	placement = scope:amazon_development_level_two_state_scope

	duration = 3

	title = amazonas.7.t
	desc = amazonas.7.d
	flavor = amazonas.7.f

	event_image = {
		video = "rp1_brazilian_city"
	}

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	cooldown = { years = 1 }

	trigger = {
		# triggered by upgrade_amazon_button_2
	}
	
	immediate = {
		random_scope_state = {
			limit = {
				has_state_trait = state_trait_amazon_rainforest_level_1
				NOT = { has_modifier = amazon_development_cooldown_modifier }
				any_scope_building = {
					is_building_type = building_urban_center
					level >= 4
				}
				any_scope_building = {
					is_building_type = building_rubber_plantation
					level >= 15
				}
				any_scope_building = {
					is_building_type = building_railway
				}
			}
			save_scope_as = amazon_development_level_two_state_scope
		}
		g:rubber = {
			save_scope_as = rubber_scope
		}
	}
	
	option = {
		name = amazonas.7.a 
		default_option = yes
		scope:amazon_development_level_two_state_scope = {
			add_modifier = {
				name = amazon_development_cooldown_modifier
				months = short_modifier_time
			}
			add_modifier = {
				name = amazon_migration
				months = normal_modifier_time
			}
			add_modifier = {
				name = harbingers_of_order_modifier
				months = normal_modifier_time
			}
		}
		scope:amazon_development_level_two_state_scope.state_region = {
			remove_state_trait = state_trait_amazon_rainforest_level_1
			add_state_trait = state_trait_amazon_rainforest_level_2
		}
	}

	option = {
		name = amazonas.7.b
		default_option = yes
		scope:amazon_development_level_two_state_scope = {
			add_modifier = {
				name = amazon_development_cooldown_modifier
				months = short_modifier_time
			}
			add_modifier = {
				name = amazon_migration
				months = normal_modifier_time
				multiplier = 0.5
			}
			add_modifier = {
				name = heralds_of_progress_modifier
				months = normal_modifier_time
			}
		}
		scope:amazon_development_level_two_state_scope.state_region = {
			remove_state_trait = state_trait_amazon_rainforest_level_1
			add_state_trait = state_trait_amazon_rainforest_level_2
		}
	}
}