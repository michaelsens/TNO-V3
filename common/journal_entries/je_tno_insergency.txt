je_tno_insergency_ost = { # ostland insurgency

    icon = "gfx/interface/icons/new_event_icons/event_ost_insur.dds"
    
  

    scripted_button = je_insur_ost_a

    status_desc = {
	
        first_valid = {
            triggered_desc = {
                desc = millitary_happy_tt
                trigger = {
                    ig:ig_armed_forces = {
                            ig_approval > 1
                            ig_approval < 9
                    }
                }
            }
            triggered_desc = {
                desc = millitary_estatic_tt
                trigger = {
                    ig:ig_armed_forces  = {
                        OR = {
                            ig_approval > 10
                        }
                    }
                }
           
            }
            triggered_desc = {
                desc = millitary_angry_tt
                trigger = {
                    ig:ig_armed_forces  = {
                        OR = {
                            ig_approval < 1
                      
                        }
                    }
                }
           
            }
        }
    }   
        


    immediate = {

		set_variable = {
            
			name = chaos_ost_timer
			value = 0
        }
	}
    
    complete = {
       

      has_variable =  ost_reformed

			
		
      

	}

    fail = {
        scope:journal_entry = {
			is_goal_complete = yes
		}
        
    }

    on_fail = {
        trigger_event = { id = tno_RK_events.1 popup = yes }
    }

    on_complete = {
       
    }

    on_monthly_pulse = {
        effect = {
            if = {
                ig:ig_armed_forces = {
                    ig_approval > 1
                    ig_approval < 9
            }
            change_variable = {
                name = chaos_ost_timer
                add = -2
            }
            
        }
        if = {
            ig:ig_armed_forces  = {
                OR = {
                    ig_approval > 10
                }
            }
        change_variable = {
            name = chaos_ost_timer
            add = -4
        }
        }
        if = {
            ig:ig_armed_forces  = {
                OR = {
                    ig_approval < 1
              
                }
            }
        change_variable = {
            name = chaos_ost_timer
            add = 4
        }
        }
    
       
		}
		random_events = {
            230 = 0
            15 = tno_RK_events.2
            15 = tno_RK_events.3
            15 = tno_RK_events.4
            15 = tno_RK_events.5
            15 = tno_RK_events.6
			15 = tno_RK_events.8
			15 = tno_RK_events.9
        }
    }

    

    current_value = {
        
		value = root.var:chaos_ost_timer
	}

    goal_add_value = {
        
		value = 150
	}

    progressbar = yes
    
    weight = 100

    should_be_pinned_by_default = yes
    
}

je_ost_reform_racism = { # Ostland reforms Racism laws

    icon = "gfx/interface/icons/new_event_icons/ost_racism.dds"

    
    
    complete = {
        OR = { 
            has_law = law_type:law_multicultural
            has_law = law_type:law_racial_segregation
            has_law = law_type:law_cultural_exclusion
        }
    }

    on_complete = {

        change_variable = {
            name = reform_bar_timer
            add = 10
        }
       
    }

    weight = 30
    
    should_be_pinned_by_default = yes
    
}

je_ost_reform_slavery = { # Ostland reforms slavery laws

    icon = "gfx/interface/icons/new_event_icons/event_slave.dds"

    
    
    complete = {
        OR = { 
            has_law = law_type:law_slavery_banned

        }
    }

    on_complete = {

        change_variable = {
            name = reform_bar_timer
            add = 10
        }
       
    }

    weight = 30
    
    should_be_pinned_by_default = yes
    
}

je_ost_reform_child_rights = { # Ostland reforms child laws

    icon = "gfx/interface/icons/new_event_icons/brokenbulb.dds"

    
    
    complete = {
        OR = { 
            has_law = law_type:law_compulsory_primary_school

        }
    }

    on_complete = {

        change_variable = {
            name = reform_bar_timer
            add = 10
        }
       
    }

    weight = 30
    
    should_be_pinned_by_default = yes
    
}

je_ost_reform_elections = { # Ostland reforms democracy laws

    icon = "gfx/interface/icons/new_event_icons/ballotbox.dds"

    
    
    complete = {
        NOT = { 
            has_law = law_type:law_oligarchy
            has_law = law_type:law_autocracy
            has_law = law_type:law_technocracy

        }
    }

    on_complete = {

        change_variable = {
            name = reform_bar_timer
            add = 10
        }

       
       
    }

    weight = 30
    
    should_be_pinned_by_default = yes
    
}

je_ost_reform_police = { # Ostland reforms police laws

    icon = "gfx/interface/icons/new_event_icons/hatmil.dds"


   

    
    
    complete = {
        NOT = { 
            has_law = law_type:law_militarized_police
        }
        has_variable = police_reform
    }

    on_complete = {

        change_variable = {
            name = reform_bar_timer
            add = 10
        }
       
    }

    weight = 30
    
    should_be_pinned_by_default = yes
    
}

je_ost_reform_police_01 = { # Needed to complete Police reform

    icon = "gfx/interface/icons/new_event_icons/hatmil.dds"

    scripted_button = je_police_reform_ost_a
    scripted_button = je_police_reform_ost_b
    scripted_button = je_police_reform_ost_c
    scripted_button = je_police_reform_ost_d
    scripted_button = je_police_reform_ost_e


    
    
    complete = {
		scope:journal_entry = {
			is_goal_complete = yes
		}
	}

    on_complete = {

        set_variable = police_reform
       
    }

  
    immediate = {

		set_variable = {
			name = police_reform_bar_timer
			value = 0
		}
	}
    

    current_value = {
		value = root.var:police_reform_bar_timer
	}

   
    goal_add_value = {
		value = 30
	}

    progressbar = yes
    
    weight = 100

    
    should_be_pinned_by_default = yes
    
}


je_ost_reform_main = { # Main JE that trakcs progress of reforms

    icon = "gfx/interface/icons/new_event_icons/rose.dds"


    immediate = {

		set_variable = {
			name = reform_bar_timer
			value = 0
		}
	}
    
    complete = {
		scope:journal_entry = {
			is_goal_complete = yes
		}
	}

    on_complete = {
      set_variable = ost_reformed
    }

    

    current_value = {
		value = root.var:reform_bar_timer
	}

    goal_add_value = {
		value = 50
	}

    progressbar = yes
    
    weight = 100

    
    should_be_pinned_by_default = yes
    
}




je_tno_request_funding_ost = { 

    icon = "gfx/interface/icons/new_event_icons/rquest_funding.dds"

    scripted_button = je_funding_a
    scripted_button = je_funding_b
    scripted_button = je_funding_c
	
   

    immediate = {
	}
    
    complete = {
	}

    on_complete = {
    }

    on_monthly_pulse = {
    }

    current_value = {
		
	}


    goal_add_value = {
		
	}

    progressbar = no
    
    weight = 100

    
    should_be_pinned_by_default = yes
    
}

je_tno_ost_stabbility = { # ostland insurgency

    icon = "gfx/interface/icons/new_event_icons/ost.dds"
    
    status_desc = {
	
        first_valid = {
            triggered_desc = {
                desc =  millitary_happy_tt
                trigger = {
                    
                 chaos_ost_timer <0
                  
                    
                }
           
            }
        }
        triggered_desc = {
            desc = millitary_angry_tt
            trigger = {
                chaos_ost_timer >0
            }
       
        }
    }   
        



  
    
    weight = 100

    should_be_pinned_by_default = yes
    
}




je_tno_request_funding_ost = { 

    icon = "gfx/interface/icons/new_event_icons/rquest_funding.dds"

    scripted_button = je_funding_a
    scripted_button = je_funding_b
    scripted_button = je_funding_c
	
   

    immediate = {
	}
    
    complete = {
	}

    on_complete = {
    }

    on_monthly_pulse = {
    }

    current_value = {
		
	}


    goal_add_value = {
		
	}

    progressbar = no
    
    weight = 100

    
    should_be_pinned_by_default = yes
    
}