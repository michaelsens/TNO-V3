je_ru_tno_launch_raid = { 

    icon = "gfx/interface/icons/alert_icons/supply_low.dds"
    group = je_group_historical_content
    scripted_button = je_ru_launch_raid

    immediate = {
	}
    
    complete = {
        hidden_trigger = {
            NOT = {
                has_modifier = russian_warlord
            }
        }
	}

    on_complete = {
    }

    on_monthly_pulse = {
    }

    current_value = {
		
	}


    goal_add_value = {
		
	}

    progressbar = no
    
    weight = 100

    
    should_be_pinned_by_default = yes
    
}

je_ru_tno_sakha_expedition = {
    icon = "gfx/interface/icons/invention_icons/prospecting_tech.dds"
    group = je_group_expeditions

    scripted_button = je_ru_gen_sakha_expedition

    on_monthly_pulse = {
        random_events = {
            80 = 0 #nothing happens

            20 = tno_ru_events.3 #bandits
            20 = tno_ru_events.4 #corruption
            20 = tno_ru_events.5 #snowstorm
            20 = tno_ru_events.6 #additonal funding
        }
    }
    
    immediate = { 
        set_variable = {
            name = sakha_progress
            value = 0
        }
        set_variable = {
            name = sakha_bandits
            value = yes
        }
        set_variable = {
            name = expedition_peril
            value = 0
        }
    }
    
    status_desc = {
        first_valid = {
            triggered_desc = {
                desc = expedition_not_begun
                trigger = {
                    NOT = { has_variable = on_expedition }
                }
            }
            triggered_desc = {
                desc = expedition_low_peril_loc
                trigger = {
                    var:expedition_peril < 4
                }
            }
            triggered_desc = {
                desc = expedition_medium_peril_loc
                trigger = {
                    var:expedition_peril <= 5
                }
            }
            triggered_desc = {
                desc = expedition_high_peril_loc
                trigger = {
                    var:expedition_peril >= 6
                }
            }
        }
    }
    
    complete = {
        custom_tooltip = {
            text = je_expedition_success
            scope:journal_entry = {
                is_goal_complete = yes
            }
        }
    }
    
    on_complete = {
        trigger = { NOT = { has_global_variable = buenaventura_river_disproven } }
        trigger_event = { id = tno_ru_events.8 popup = yes }

        remove_variable = on_expedition
        remove_modifier = the_sakha_expedition
        remove_modifier = sakha_hiring_security
        remove_modifier = sakha_corruption_investigation
        set_variable = {
            name = sakha_expedition_done
            value = yes
        }
    }
    
   fail = {
        custom_tooltip = {
            text = je_expedition_fail
            var:expedition_peril >= 8
        }
    }
    
    on_fail = {
        trigger_event = { id = tno_ru_events.7 popup = yes }
        remove_variable = on_expedition
        remove_modifier = the_sakha_expedition
        remove_modifier = sakha_hiring_security
        remove_modifier = sakha_corruption_investigation
    }
    
    current_value = {
        value = var:sakha_progress
    }

    goal_add_value = {
        add = 8
    }
    
    progressbar = yes
    
    weight = 200
    transferable = no
    should_be_pinned_by_default = yes
}

je_ru_tno_repair_transib = {
    icon = "gfx/interface/icons/invention_icons/railways.dds"
    group = je_group_technology

    #scripted_button = je_ru_gen_transsib_finish

    possible = {
        NOT = { has_variable = transsib_done }
    }

    immediate = {
        random_scope_state = {
            limit = {
                state_region = s:STATE_IRKUTSK
            }
            save_scope_as = irkutsk_state_scope
        }
        random_scope_state = {
            limit = {
                state_region = s:STATE_TRANS_BAIKAL
            }
            save_scope_as = trans_baikal_state_scope
        }
        random_scope_state = {
            limit = {
                state_region = s:STATE_OKHOTSK
            }
            save_scope_as = okhotsk_state_scope
        }
        random_scope_state = {
            limit = {
                state_region = s:STATE_UPPER_YENISEYSK
            }
            save_scope_as = upper_yeniseysk_state_scope
        }
        random_scope_state = {
            limit = {
                state_region = s:STATE_YAKUTSK
            }
            save_scope_as = yakutsk_state_scope
        }
        random_scope_state = {
            limit = {
                state_region = s:STATE_CHUKOTKA
            }
            save_scope_as = chukotka_state_scope
        }
        random_scope_state = {
            limit = {
                state_region = s:STATE_KAMCHATKA
            }
            save_scope_as = kamchatka_state_scope
        }
    }

    complete = {

        custom_tooltip = {
            text = je_transib_irkutsk_tt
            any_scope_state = {
                state_region = s:STATE_IRKUTSK
                state_has_building_group_levels = {
                    type = bg_private_infrastructure
                    value  >= 4
                } 
            }
        }
        custom_tooltip = {
            text = je_transib_trans_baikal_tt
            any_scope_state = {
                state_region = s:STATE_TRANS_BAIKAL
                state_has_building_group_levels = {
                    type = bg_private_infrastructure
                    value  >= 4
                } 
            }
        }
        custom_tooltip = {
            text = je_transib_okhotsk_tt
            any_scope_state = {
                state_region = s:STATE_OKHOTSK
                state_has_building_group_levels = {
                    type = bg_private_infrastructure
                    value  >= 4
                } 
            }
        }
    }

    on_complete = {
        if = {
             limit = {
                scope:irkutsk_state_scope = {
                    is_capital = yes
                }
            }
            add_journal_entry = { type = je_ru_tno_irk_paris_of_siberia }
        }
        custom_tooltip = transsib_complete_tt
        hidden_effect = {
            scope:irkutsk_state_scope = {
                add_modifier = {
                    name = state_transsib
                    years = 10
                    is_decaying = yes
                }
            }
            scope:trans_baikal_state_scope = {
                add_modifier = {
                    name = state_transsib
                    years = 10
                    is_decaying = yes
                }
            }
            scope:okhotsk_state_scope = {
                add_modifier = {
                    name = state_transsib
                    years = 10
                    is_decaying = yes
                }
            }

            scope:upper_yeniseysk_state_scope = {
                if = {
                    limit = {
                        state_has_building_group_levels = {
                            type = bg_private_infrastructure
                            value  >= 4
                        }
                    }
                    add_modifier = {
                        name = state_transsib
                        years = 10
                        is_decaying = yes
                    }
                }
            }
            scope:yakutsk_state_scope = {
                if = {
                    limit = {
                        state_has_building_group_levels = {
                            type = bg_private_infrastructure
                            value  >= 4
                        }
                    }
                    add_modifier = {
                        name = state_transsib
                        years = 10
                        is_decaying = yes
                    }
                }
            }
            scope:chukotka_state_scope = {
                if = {
                    limit = {
                        state_has_building_group_levels = {
                            type = bg_private_infrastructure
                            value  >= 4
                        }
                    }
                    add_modifier = {
                        name = state_transsib
                        years = 10
                        is_decaying = yes
                    }
                }
            }
            scope:kamchatka_state_scope = {
                if = {
                    limit = {
                        state_has_building_group_levels = {
                            type = bg_private_infrastructure
                            value  >= 4
                        }
                    }
                    add_modifier = {
                        name = state_transsib
                        years = 10
                        is_decaying = yes
                    }
                }
            }
        }
    }
    weight = 50
    should_be_pinned_by_default = yes
}

je_ru_tno_finish_sib_plan = { 

    icon = "gfx/interface/icons/tno_event_icons/sib_plan.dds"
    group = je_group_technology

    scripted_button = je_ru_gen_complete_sib_plan

    immediate = {
    }
    
    complete = {


        hidden_trigger = {
            has_modifier = your_mom
        }
    }

    on_complete = {
    }

    on_monthly_pulse = {
    }

    current_value = {
        
    }


    goal_add_value = {
        
    }

    progressbar = no
    
    weight = 40000

    
    should_be_pinned_by_default = yes
    
}